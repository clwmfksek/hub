(()=>{var e={};e.id=15,e.ids=[15],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},28086:(e,t,r)=>{"use strict";r.d(t,{t:()=>i});var s=r(94473),a=r(44999);async function i(){let e=await (0,a.UL)(),t="https://iarequheuudlmajvwtrt.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlhcmVxdWhldXVkbG1hanZ3dHJ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ2MzYxNzAsImV4cCI6MjA3MDIxMjE3MH0.77LJGoJ-9Ujd5ssailzjZsKUs7NuJHAl5FvhMsAiSDM";if(!t||!r)throw Error("Supabase environment variables are missing. NEXT_PUBLIC_SUPABASE_URL / NEXT_PUBLIC_SUPABASE_ANON_KEY");return(0,s.createServerClient)(t,r,{cookies:{get:t=>e.get(t)?.value,set(t,r,s){e.set({name:t,value:r,...s})},remove(t,r){e.set({name:t,value:"",...r})}}})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},47100:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>x,routeModule:()=>p,serverHooks:()=>m,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>h});var s={};r.r(s),r.d(s,{GET:()=>l});var a=r(96559),i=r(48088),o=r(37719),u=r(32190),n=r(28086);async function c(){let e=await (0,n.t)(),{data:{user:t}}=await e.auth.getUser();if(!t)return;let{data:r}=await e.from("profiles").select("id").eq("id",t.id).maybeSingle();if(r)return;let s=t.user_metadata?.nickname,a=t.user_metadata?.full_name,i=t.email?.split("@")[0],o=(s||a||i||`user-${t.id.slice(0,8)}`).toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,"").slice(0,24)||`user-${t.id.slice(0,8)}`;for(let r=0;r<3;r++){let{error:r}=await e.from("profiles").insert({id:t.id,nickname:o});if(!r)return;o=`${o}-${Math.floor(9e3*Math.random()+1e3)}`.slice(0,24)}}async function l(e){let{searchParams:t,origin:r}=new URL(e.url),s=t.get("code"),a=await (0,n.t)();if(s)try{let{error:e}=await a.auth.exchangeCodeForSession(s);e||(await a.auth.getSession(),await c())}catch{}return u.NextResponse.redirect(`${r}/`)}let p=new a.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/auth/callback/route",pathname:"/auth/callback",filename:"route",bundlePath:"app/auth/callback/route"},resolvedPagePath:"/Users/shh/Documents/Coding/sjproject/wellness-app/app/auth/callback/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:d,workUnitAsyncStorage:h,serverHooks:m}=p;function x(){return(0,o.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:h})}},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},78335:()=>{},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},85853:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=85853,e.exports=t},96487:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[719,331,580],()=>r(47100));module.exports=s})();
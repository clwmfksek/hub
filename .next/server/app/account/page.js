(()=>{var e={};e.id=298,e.ids=[298,307],e.modules={163:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return n}});let n=r(71042).unstable_rethrow;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},14647:(e,t,r)=>{"use strict";r.d(t,{getBrowserClient:()=>i});var n=r(88105);let o=null;function i(){if(o)return o;let e="https://iarequheuudlmajvwtrt.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlhcmVxdWhldXVkbG1hanZ3dHJ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ2MzYxNzAsImV4cCI6MjA3MDIxMjE3MH0.77LJGoJ-9Ujd5ssailzjZsKUs7NuJHAl5FvhMsAiSDM";if(!e||!t)throw Error("Supabase environment variables are missing. NEXT_PUBLIC_SUPABASE_URL / NEXT_PUBLIC_SUPABASE_ANON_KEY");return o=(0,n.createBrowserClient)(e,t)}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},22287:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var n=r(37413),o=r(28086),i=r(39916),a=r(61120),s=r(66819);let l=a.forwardRef(({className:e,...t},r)=>(0,n.jsx)("div",{ref:r,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));l.displayName="Card";let u=a.forwardRef(({className:e,...t},r)=>(0,n.jsx)("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...t}));u.displayName="CardHeader";let d=a.forwardRef(({className:e,...t},r)=>(0,n.jsx)("div",{ref:r,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle",a.forwardRef(({className:e,...t},r)=>(0,n.jsx)("div",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let c=a.forwardRef(({className:e,...t},r)=>(0,n.jsx)("div",{ref:r,className:(0,s.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",a.forwardRef(({className:e,...t},r)=>(0,n.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter";var f=r(64214),p=r(61819);async function m(){let e=await (0,o.t)(),{data:{user:t}}=await e.auth.getUser();t||(0,i.redirect)("/login");let{data:r}=await e.from("profiles").select("nickname").eq("id",t.id).maybeSingle();return(0,n.jsx)("div",{className:"pt-24 bg-sandy-beige min-h-screen",children:(0,n.jsx)("div",{className:"container px-6 py-16",children:(0,n.jsxs)(l,{className:"mx-auto w-full max-w-md bg-white rounded-2xl shadow-lg border border-stone-200/60",children:[(0,n.jsx)(u,{className:"text-center pb-0",children:(0,n.jsx)(d,{children:"Account"})}),(0,n.jsx)(c,{className:"pt-6",children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)(p.default,{initialEmail:t.email??""}),(0,n.jsx)(f.default,{initialNickname:r?.nickname??""})]})})]})})})}},22390:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>c,pages:()=>d,routeModule:()=>f,tree:()=>u});var n=r(65239),o=r(48088),i=r(88170),a=r.n(i),s=r(30893),l={};for(let e in s)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>s[e]);r.d(t,l);let u={children:["",{children:["account",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,22287)),"/Users/shh/Documents/Coding/sjproject/wellness-app/app/account/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,97506)),"/Users/shh/Documents/Coding/sjproject/wellness-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["/Users/shh/Documents/Coding/sjproject/wellness-app/app/account/page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},f=new n.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/account/page",pathname:"/account",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},27910:e=>{"use strict";e.exports=require("stream")},28208:(e,t,r)=>{"use strict";r.d(t,{default:()=>f});var n=r(60687),o=r(43214),i=r(27605),a=r(63442),s=r(68988),l=r(24934),u=r(71702),d=r(14647);let c=o.Ik({nickname:o.Yj().min(2,"Nickname must be at least 2 characters").max(24,"Nickname must be at most 24 characters").regex(/^[a-z0-9-]+$/i,"Only letters, numbers, and hyphens are allowed")});function f({initialNickname:e}){let{toast:t}=(0,u.dj)(),r=(0,i.mN)({resolver:(0,a.u)(c),defaultValues:{nickname:e}}),o=async({nickname:e})=>{let r=(0,d.getBrowserClient)(),{data:{user:n},error:o}=await r.auth.getUser();if(o||!n){t({title:"Error",description:"You must be logged in",variant:"destructive"});return}let{error:i}=await r.from("profiles").update({nickname:e}).eq("id",n.id);if(i){t({title:"Save failed",description:i.message,variant:"destructive"});return}t({title:"Saved",description:"Nickname has been updated"})};return(0,n.jsxs)("form",{className:"space-y-3",onSubmit:r.handleSubmit(o),children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Nickname"}),(0,n.jsx)(s.p,{...r.register("nickname"),className:"h-11"}),r.formState.errors.nickname&&(0,n.jsx)("p",{className:"text-sm text-red-600",children:r.formState.errors.nickname.message}),(0,n.jsx)(l.$,{type:"submit",className:"w-full bg-sage-green hover:bg-sage-green-600",children:"Save"})]})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29821:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=29821,e.exports=t},33873:e=>{"use strict";e.exports=require("path")},39480:(e,t,r)=>{Promise.resolve().then(r.bind(r,61819)),Promise.resolve().then(r.bind(r,64214))},39916:(e,t,r)=>{"use strict";var n=r(97576);r.o(n,"notFound")&&r.d(t,{notFound:function(){return n.notFound}}),r.o(n,"redirect")&&r.d(t,{redirect:function(){return n.redirect}})},48976:(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"forbidden",{enumerable:!0,get:function(){return n}}),r(8704).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},49208:(e,t,r)=>{Promise.resolve().then(r.bind(r,67841)),Promise.resolve().then(r.bind(r,28208))},55591:e=>{"use strict";e.exports=require("https")},61819:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/shh/Documents/Coding/sjproject/wellness-app/app/account/email-form.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/shh/Documents/Coding/sjproject/wellness-app/app/account/email-form.tsx","default")},62765:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"notFound",{enumerable:!0,get:function(){return o}});let n=""+r(8704).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function o(){let e=Object.defineProperty(Error(n),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw e.digest=n,e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64214:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/shh/Documents/Coding/sjproject/wellness-app/app/account/profile-form.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/shh/Documents/Coding/sjproject/wellness-app/app/account/profile-form.tsx","default")},66819:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var n=r(75986),o=r(8974);function i(...e){return(0,o.QP)((0,n.$)(e))}},67841:(e,t,r)=>{"use strict";r.d(t,{default:()=>f});var n=r(60687),o=r(43214),i=r(27605),a=r(63442),s=r(68988),l=r(24934),u=r(71702),d=r(14647);let c=o.Ik({email:o.Yj().email("Invalid email format")});function f({initialEmail:e}){let{toast:t}=(0,u.dj)(),r=(0,i.mN)({resolver:(0,a.u)(c),defaultValues:{email:e}}),o=async({email:e})=>{let r=(0,d.getBrowserClient)(),n=`${window.location.origin}/auth/callback`,{error:o}=await r.auth.updateUser({email:e},{emailRedirectTo:n});if(o){t({title:"Update failed",description:o.message,variant:"destructive"});return}t({title:"Verification email sent",description:"Click the verification link in the email to complete your change."})};return(0,n.jsxs)("form",{className:"space-y-3",onSubmit:r.handleSubmit(o),children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Email"}),(0,n.jsx)(s.p,{type:"email",...r.register("email"),className:"h-11"}),r.formState.errors.email&&(0,n.jsx)("p",{className:"text-sm text-red-600",children:r.formState.errors.email.message}),(0,n.jsx)(l.$,{type:"submit",variant:"outline",className:"w-full",children:"Send verification email"})]})}},68988:(e,t,r)=>{"use strict";r.d(t,{p:()=>a});var n=r(60687),o=r(43210),i=r(96241);let a=o.forwardRef(({className:e,type:t,...r},o)=>(0,n.jsx)("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:o,...r}));a.displayName="Input"},70899:(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unauthorized",{enumerable:!0,get:function(){return n}}),r(8704).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},71042:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,a.isNextRouterError)(t)||(0,i.isBailoutToCSRError)(t)||(0,l.isDynamicServerError)(t)||(0,s.isDynamicPostpone)(t)||(0,o.isPostpone)(t)||(0,n.isHangingPromiseRejectionError)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let n=r(68388),o=r(52637),i=r(51846),a=r(31162),s=r(84971),l=r(98479);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},86897:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getRedirectError:function(){return a},getRedirectStatusCodeFromError:function(){return c},getRedirectTypeFromError:function(){return d},getURLFromRedirectError:function(){return u},permanentRedirect:function(){return l},redirect:function(){return s}});let n=r(52836),o=r(49026),i=r(19121).actionAsyncStorage;function a(e,t,r){void 0===r&&(r=n.RedirectStatusCode.TemporaryRedirect);let i=Object.defineProperty(Error(o.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return i.digest=o.REDIRECT_ERROR_CODE+";"+t+";"+e+";"+r+";",i}function s(e,t){var r;throw null!=t||(t=(null==i?void 0:null==(r=i.getStore())?void 0:r.isAction)?o.RedirectType.push:o.RedirectType.replace),a(e,t,n.RedirectStatusCode.TemporaryRedirect)}function l(e,t){throw void 0===t&&(t=o.RedirectType.replace),a(e,t,n.RedirectStatusCode.PermanentRedirect)}function u(e){return(0,o.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function d(e){if(!(0,o.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return e.digest.split(";",2)[1]}function c(e){if(!(0,o.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(e.digest.split(";").at(-2))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},97576:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return d},RedirectType:function(){return o.RedirectType},forbidden:function(){return a.forbidden},notFound:function(){return i.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect},unauthorized:function(){return s.unauthorized},unstable_rethrow:function(){return l.unstable_rethrow}});let n=r(86897),o=r(49026),i=r(62765),a=r(48976),s=r(70899),l=r(163);class u extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class d extends URLSearchParams{append(){throw new u}delete(){throw new u}set(){throw new u}sort(){throw new u}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[719,331,154,105,693,17,970],()=>r(22390));module.exports=n})();